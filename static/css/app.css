/* Step 1/2: tokens and utilities; Step 2 adds components (migrated from template) */

/* Design tokens */
:root {
  --color-bg: #ffffff;
  --color-fg: #333333;
  --color-muted: #666666;
  --color-border: #eeeeee;
  --color-item-hover: #fafafa;
  /* Page background (very light gray) */
  --color-bg-page: #f2f2f2;
  --color-code-bg: #f7f7f7;
  --color-btn-bg: #ffffff;
  --color-btn-border: #cccccc;
  --color-border-subtle: #f3f3f3;
  --color-pill-bg: #efefef;
  --color-pill-user-bg: #e0f2fe;
  --color-pill-assistant-bg: #e9d5ff;
  --color-pill-tool-bg: #ffe4e6;
  --color-focus-flash: #fff7c2;

  /* Use Sarasa Mono SC XLight across the UI (falls back if not installed) */
  --font-sans: "Sarasa Mono SC", "Sarasa Mono SC XLight", "Sarasa Mono", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: "Sarasa Mono SC", "Sarasa Mono SC XLight", "Sarasa Mono", ui-monospace, SFMono-Regular, Menlo, monospace;
  --font-size-base: 16px;
  --font-size-meta: 12px;
  --font-size-pill: 12px;
  --font-size-stats: 14px;
  --font-weight-ultralight: 300;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --space-1: 4px;
  --space-2: 6px;
  --space-3: 8px;
  --space-4: 10px;
  --space-5: 12px;
  --space-6: 16px;
  --space-7: 18px;
  --space-8: 20px;
  --space-10: 1em; /* for explicit right padding on selects */

  --radius-sm: 6px;
  --radius-pill: 9999px;
  --border-width: 1px;
  --sidebar-width: 480px;
  --search-max-width: 680px;
  /* (reserved) Native select arrow spacing (not used) */
}

/* Utilities only (used in later steps) */
.hidden { display: none; }
.clickable { cursor: pointer; }
.mono { font-family: var(--font-mono); }
.ellipsis { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mt-1 { margin-top: var(--space-2); }
.ml-1 { margin-left: var(--space-2); }
.flex-1 { flex: 1; }
.fw-600 { font-weight: var(--font-weight-semibold); }
.fw-700 { font-weight: var(--font-weight-bold); }
.pad-xs { padding: 4px 6px; }
.pad-sm { padding: var(--space-3) var(--space-4); }
.empty-hint { padding: var(--space-5); color: var(--color-muted); }

/* Sidebar controls and searchbar max width */
.sidebar__controls { padding: var(--space-3) var(--space-8); border-top: var(--border-width) solid var(--color-border); display:flex; align-items:center; gap: var(--space-3); }
.searchbar--max { max-width: var(--search-max-width); }

/* Step 2: Components (migrated from template) */
body { font-family: var(--font-sans); margin: 0; padding-top: 0em; font-weight: var(--font-weight-ultralight); background: var(--color-bg-page); color: var(--color-fg); }
/* Ensure form controls inherit the UI font + weight */
input, select, textarea, button { font-family: inherit; font-weight: inherit; }
header { padding: var(--space-4) var(--space-6); border-bottom: var(--border-width) solid var(--color-border); display: flex; gap: var(--space-6); align-items: center; }
.container { display: grid; grid-template-columns: var(--sidebar-width) 1fr; height: calc(100vh - 52px); }
.sidebar { border-right: var(--border-width) solid var(--color-border); overflow: auto; }
.content { overflow: auto; margin: 0 1em; padding-top: 0.5em;}
.item { padding: var(--space-4) var(--space-8); border-bottom: var(--border-width) solid var(--color-border-subtle); cursor: pointer; }
.item:hover { background: var(--color-item-hover); }
.meta { color: var(--color-muted); font-size: var(--font-size-meta); }
.msg { padding: var(--space-4) var(--space-8); border-bottom: var(--border-width) solid var(--color-border-subtle); }
.role { font-weight: var(--font-weight-semibold); margin-right: var(--space-6); }
code, pre { background: var(--color-code-bg); font-family: var(--font-mono); }
pre { padding: var(--space-3); overflow: auto; }
.row { display: flex; gap: var(--space-6); align-items: baseline; }
.pill { font-size: var(--font-size-pill); background: var(--color-pill-bg); border-radius: var(--radius-pill); padding: 2px var(--space-3); margin-right: var(--space-2); }
.pill.role-user { background: var(--color-pill-user-bg); text-transform: uppercase; font-weight: var(--font-weight-bold); }
.pill.role-assistant { background: var(--color-pill-assistant-bg); text-transform: uppercase; font-weight: var(--font-weight-bold); }
.pill.role-tool { background: var(--color-pill-tool-bg); }
.stats { color: var(--color-fg); font-size: var(--font-size-stats); }
.btn { padding: var(--space-3) var(--space-4); border: var(--border-width) solid var(--color-btn-border); border-radius: var(--radius-sm); background: var(--color-btn-bg); cursor: pointer; }
.btn select, select.btn { border: var(--border-width) solid var(--color-border); border-radius: var(--radius-sm); background: var(--color-btn-bg); }
/* Explicitly increase only right padding for select with .btn class */
select.btn { padding-right: var(--space-10); }
.btn select, select.btn { border: var(--border-width) solid var(--color-border); border-radius: var(--radius-sm); background: var(--color-btn-bg); }
.back-link { color: var(--color-fg); text-decoration: none; }
.back-link:hover { text-decoration: underline; }
.searchbar { display:flex; gap: var(--space-3); align-items:center; padding: var(--space-3) var(--space-4); }
.searchbar input[type="text"] { flex:1; padding: var(--space-2) var(--space-3); border: var(--border-width) solid #ddd; border-radius: var(--radius-sm); }
/* (removed top search scope select; keeping rule commented for reference)
   .searchbar select { padding: var(--space-2) var(--space-3); border: var(--border-width) solid var(--color-border); border-radius: var(--radius-sm); background: var(--color-btn-bg); }
*/
/* On focus, match border to page background to avoid dark ring */
.searchbar input[type="text"]:focus,
.searchbar input[type="text"]:focus-visible,
.searchbar button.btn:focus,
.searchbar button.btn:focus-visible {
  outline: none;
  box-shadow: none;
  border-color: var(--color-bg-page);
}
/* Sidebar View dropdown: hide border on focus as well */
.sidebar__controls select:focus,
.sidebar__controls select:focus-visible,
select#viewModeSelect:focus,
select#viewModeSelect:focus-visible {
  outline: none;
  box-shadow: none;
  border-color: var(--color-bg-page);
}
.result-item { padding: var(--space-3) var(--space-8); border-bottom: var(--border-width) solid var(--color-border-subtle); cursor: pointer; }
.result-item:hover { background: var(--color-item-hover); }
.group .result-item { padding-left: var(--space-7); }
.msg.focus { animation: focusFlash 2s ease 1; }
@keyframes focusFlash { 0% { background: var(--color-focus-flash); } 100% { background: transparent; } }
